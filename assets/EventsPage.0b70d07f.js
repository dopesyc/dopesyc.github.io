import{_ as A,F as Z,l as L,n as M,G as $,H as ee,D as ye,A as we,B as Ce}from"./POTMTable.vue_vue_type_style_index_0_lang.0f48aa8c.js";import{d as J}from"./QBtn.419d845c.js";import{f as ce,g as te,h as K,i as F,j as me,b as ae,C as ue,e as j,W as he,k as Te,l as ke,m as xe,n as Se,P as ge,o as De}from"./EventsPage.vue_vue_type_style_index_0_scoped_true_lang.990d4960.js";import{r as c,f as Y,p as le,K as P,R as V,P as o,M as l,O as n,N,V as E,z as fe,L as q,Y as se,X as oe,Q as u,S as ve,w as Ee,av as re,aw as z,W as ie,ag as Ne,ax as Pe}from"./index.c843a950.js";import{d as be,f as pe}from"./debounce.72798129.js";import{P as Ge}from"./POTMTable.5fcd9d3b.js";const Le={name:"UpdatedCompetitionTable",setup(){c([]);const m=c([]),t=c(""),g=c(null),e=c(!1),v=c(!1),p=c(78623),a=c("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<1e6?h.none:d<5e6?h.low:d<1e7?h.medium:h.high,f=d=>d<1e6?`${(d/1e3).toFixed(2)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(2)}M`,k=c([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{v.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,m.value=r.participations.map(s=>{const _=s.player.exp||0,D=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:f(_),rawXp:_,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:f(D),rawGainedXP:D,progressGained:f(s.progress.gained),progressStart:f(s.progress.start),progressEnd:f(s.progress.end),levelsGained:f(s.levels.gained),levelsStart:f(s.levels.start),levelsEnd:f(s.levels.end),progressLevels:`Gained: ${f(s.progress.gained)}, Start: ${f(s.progress.start)}, End: ${f(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`EXP: ${y(s.progress.start)} <br /> LVLS: ${s.levels.start}`,totalEnd:`EXP: ${y(s.progress.end)} <br /> LVLS: ${s.levels.end}`,progressGainedClass:T(D),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{v.value=!1}},S=be(()=>{if(!t.value.trim())return;const d=m.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=m.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=m.value.splice(r,1);m.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),G=Y(()=>t.value.trim()?m.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):m.value),R=d=>{p.value=d,x()};return le(x),{columns:k,filteredRows:G,searchQuery:t,highlightedId:g,debouncedSearch:S,playerNotFoundDialog:e,loading:v,updateCompetition:R,competitionTitle:a}}},Me={class:"q-gutter-sm row items-center"},Ue=["innerHTML"],Fe=["innerHTML"],Ve=["innerHTML"],Ie=["innerHTML"],Be=["src","alt"];function Oe(m,t,g,e,v,p){return P(),V(j,null,{default:o(()=>[l("div",Me,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(Z,null,{default:o(()=>[n(L,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(78623))},{default:o(()=>[n(M,null,{default:o(()=>t[9]||(t[9]=[N("Farming")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(71017))},{default:o(()=>[n(M,null,{default:o(()=>t[10]||(t[10]=[N("Construction")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(65875))},{default:o(()=>[n(M,null,{default:o(()=>t[11]||(t[11]=[N("Agility")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(58100))},{default:o(()=>[n(M,null,{default:o(()=>t[12]||(t[12]=[N("Fishing")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(48025))},{default:o(()=>[n(M,null,{default:o(()=>t[13]||(t[13]=[N("Crafting")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[6]||(t[6]=a=>e.updateCompetition(44571))},{default:o(()=>[n(M,null,{default:o(()=>t[14]||(t[14]=[N("Prayer")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[7]||(t[7]=a=>e.updateCompetition(39755))},{default:o(()=>[n(M,null,{default:o(()=>t[15]||(t[15]=[N("Fletching")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(F,{class:E(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Ue)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Fe)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Ve)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Ie)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(F,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,Be)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[8]||(t[8]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[16]||(t[16]=[N(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[fe(n(J,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Re=A(Le,[["render",Oe]]);const ze={setup(){const m=ye(),t=y=>{const k=y.getUTCFullYear(),x=String(y.getUTCMonth()+1).padStart(2,"0"),S=String(y.getUTCDate()).padStart(2,"0");return`${k}/${x}/${S}`},g=(y,k)=>{const x=[];let S=new Date(y);for(;S<=k;)x.push(t(S)),S.setUTCDate(S.getUTCDate()+1);return x},e=y=>{const k=a.value[y];return k?k.color||"white":null},v=y=>{const k={};return Object.keys(y).forEach(x=>{const{rangeEnd:S,...G}=y[x];g(new Date(x),new Date(S||x)).forEach(d=>{k[d]={...G}})}),k},p={"2024/12/06":{rangeEnd:"2025/01/22",title:"Leagues V: Raging Echoes",description:"Leagues V: Raging Echoes is a temporary game mode in Old School RuneScape (OSRS) that will begin November 27, 2024.",image:"/homepage/leagues/virtus.png",color:"info"},"2024/12/31":{rangeEnd:"2024/12/31",title:"New Year's Rumble",description:"1.5B in prizes, hunters vs. hunted in PVP world at 3pm EST!",image:"/homepage/bonanza.png",color:"primary"},"2025/01/19":{rangeEnd:"2025/01/26",title:"GROUP BOSS OF THE WEEK - ZILY ",description:"BOTW will be a group competition and buyin phase will be January 12th - Jan 18th.",image:"/calendar/zily.png",color:"negative"},"2025/02/01":{rangeEnd:"2025/02/01",title:"Fashionscape Fiesta",description:"Congratulations to the winners! We plan to throw more fashionscape events in the future, perhaps with different themes?!",image:"/homepage/fashionfeb/lineup2.png",color:"pink"},"2025/02/16":{rangeEnd:"2025/03/02",title:"Skill of the Week - Farming",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/toollep.png",color:"light-green"},"2025/03/23":{rangeEnd:"2025/03/30",title:"Skill of the Week - Magic",description:"PAYOUT TOP 3 XP / THRESHOLDS",image:"/calendar/magic.png",color:"blue-14"}},a=c(v(p)),i=[{startDate:new Date(Date.UTC(2024,11,6)),endDate:new Date(Date.UTC(2025,0,22))},{startDate:new Date(Date.UTC(2024,11,31)),endDate:new Date(Date.UTC(2024,11,31))},{startDate:new Date(Date.UTC(2025,0,19)),endDate:new Date(Date.UTC(2025,0,26))},{startDate:new Date(Date.UTC(2025,1,1)),endDate:new Date(Date.UTC(2025,1,1))},{startDate:new Date(Date.UTC(2025,1,16)),endDate:new Date(Date.UTC(2025,2,2))},{startDate:new Date(Date.UTC(2025,2,23)),endDate:new Date(Date.UTC(2025,2,30))}],h=y=>{const k=new Set;return y.forEach(({startDate:x,endDate:S})=>{g(x,S).forEach(G=>k.add(G))}),Array.from(k).sort()};m.setRawEventDetails(p);const T=c(h(i)),f=t(new Date);return T.value.push(f),m.updateCurrentEvent(f),{splitterModel:c(50),date:c(f),events:T,eventDetails:a,getEventColor:e,today:f}}},Ae={class:"q-pa-md"},He={class:"text-h4 q-mb-md"};function We(m,t,g,e,v,p){return P(),q("div",null,[n(Se,{modelValue:e.splitterModel,"onUpdate:modelValue":t[2]||(t[2]=a=>e.splitterModel=a),style:{height:"450px"}},{before:o(()=>[l("div",Ae,[n(Te,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=a=>e.date=a),events:e.events,"event-color":e.getEventColor},null,8,["modelValue","events","event-color"])])]),after:o(()=>[n(ke,{modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=a=>e.date=a),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[(P(!0),q(se,null,oe(e.events,a=>(P(),V(xe,{key:a,name:a},{default:o(()=>{var i,h,T;return[l("div",He,u(((i=e.eventDetails[a])==null?void 0:i.title)||"No Event Scheduled"),1),l("p",null,u(((h=e.eventDetails[a])==null?void 0:h.description)||"No details available, please check out other planned events by viewing dates that are highlighted on the calendar."),1),(T=e.eventDetails[a])!=null&&T.image?(P(),V(we,{key:0,src:e.eventDetails[a].image,alt:"Event Image",style:{"max-width":"100%","max-height":"200px"}},null,8,["src"])):ve("",!0)]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}var de=A(ze,[["render",We],["__scopeId","data-v-3d73ad77"]]);const Xe={name:"TeamLeaderboard",setup(){const m=c([]),t=c(!0),g=c({}),e="ag5idzcxq01s1yoocwth0llc",v={low:"progress-low",medium:"progress-medium",high:"progress-high"},p=r=>r<5e5?v.low:r<2e6?v.medium:v.high,a=c([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"team",label:"Team",align:"left",field:"team",sortable:!0},{name:"lastUpdated",label:"Last Updated",align:"center",field:"lastUpdated",sortable:!0}]),i=["clue_scrolls_hard","slayer","tombs_of_amascut","tombs_of_amascut_expert","zalcano","smithing","hitpoints","clue_scrolls_elite","thieving","agility","runecrafting"],h={},T=5*60*1e3,f=r=>new Promise(s=>setTimeout(s,r)),y=async(r,s={},_=3,D=1e3)=>{try{const w=await fetch(r,s);if(!w.ok)if(w.status===429||w.status>=500&&w.status<600){if(_>0)return console.warn(`Request failed with status ${w.status}. Retrying in ${D}ms...`),await f(D),y(r,s,_-1,D*2);throw new Error(`Request failed with status ${w.status} after retries.`)}else throw new Error(`Request failed with status ${w.status}.`);return w}catch(w){if(_>0)return console.warn(`Fetch error: ${w.message}. Retrying in ${D}ms...`),await f(D),y(r,s,_-1,D*2);throw w}},k=async r=>{const s=`https://api.wiseoldman.net/v2/competitions/68296/csv?metric=${r}`,_=r,D=Date.now();if(h[_]&&D-h[_].timestamp<T)return console.log(`Using cached data for metric: ${r}`),h[_].data;const U=await(await y(s,{headers:{Authorization:`Bearer ${e}`}})).text();return h[_]={timestamp:D,data:U},U},x=async()=>{t.value=!0;try{const r={};g.value={};for(const s of i)try{const _=await k(s);ge.parse(_,{header:!0,skipEmptyLines:!0}).data.forEach(w=>{const U=w.Username,H=w.Team||"Unknown",Q=parseInt(w.Gained)||0;r[U]||(r[U]={id:U,username:U,team:H,rank:parseInt(w.Rank),lastUpdated:w["Last Updated"]}),r[U][s]=Q,r[U][`${s}Formatted`]=G(Q),r[U][`${s}Class`]=p(Q),g.value[H]||(g.value[H]={}),g.value[H][s]=(g.value[H][s]||0)+Q}),a.value.find(w=>w.name===s)||a.value.push({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase()),align:"right",field:s,sortable:!0})}catch(_){console.error(`Error fetching metric ${s}:`,_)}m.value=Object.values(r)}catch(r){console.error("Error fetching metrics:",r)}finally{t.value=!1}},S=r=>new Intl.NumberFormat().format(r),G=r=>r>0?`+${S(r)}`:S(r),R=Y(()=>Object.entries(g.value).map(([r,s])=>({team:r,...s,...Object.fromEntries(Object.keys(s).map(_=>[`${_}Formatted`,G(s[_])]))}))),d=Y(()=>{const r=Object.keys(g.value).length?Object.keys(g.value[Object.keys(g.value)[0]]||{}).map(s=>({name:s,label:s.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()),align:"right",field:s,sortable:!0})):[];return[{name:"team",label:"Team",align:"left",field:"team",sortable:!0},...r]});return le(x),{tableData:m,columns:a,loading:t,formatNumber:S,teamsGained:g,teamTableData:R,teamColumns:d}}};function Qe(m,t,g,e,v,p){return P(),V(j,null,{default:o(()=>[n(K,{rows:e.tableData,columns:e.columns,"row-key":"username",loading:e.loading,"rows-per-page-options":[5,10,20,-1],class:"team-table",title:"Player Stats"},{"body-cell":o(({row:a,col:i})=>[n(F,{class:E(a[`${i.name}Class`])},{default:o(()=>[N(u(i.name==="rank"||i.name==="username"||i.name==="team"||i.name==="lastUpdated"?a[i.field]:a[`${i.name}Formatted`]||e.formatNumber(a[i.field]||0)),1)]),_:2},1032,["class"])]),_:1},8,["rows","columns","loading"]),Object.keys(e.teamsGained).length?(P(),V(K,{key:0,rows:e.teamTableData,columns:e.teamColumns,"row-key":"team",class:"team-table",title:"Team Stats"},{"body-cell":o(({row:a,col:i})=>[n(F,null,{default:o(()=>[N(u(i.name==="team"?a.team:a[`${i.name}Formatted`]||e.formatNumber(a[i.name]||0)),1)]),_:2},1024)]),_:1},8,["rows","columns"])):ve("",!0)]),_:1})}var qe=A(Xe,[["render",Qe],["__scopeId","data-v-d9253876"]]);const je=["src","alt"],Ke={__name:"EventButton",props:{label:{type:String,required:!0},tooltip:{type:String,required:!0},icon:{type:String,required:!0},animationClass:{type:String,required:!0},buttonClass:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(m,{emit:t}){const g=m,e=t,v=c(null);function p(i,h){i.classList.remove(h),i.offsetWidth,i.classList.add(h)}Ee(()=>g.active,i=>{i&&v.value&&p(v.value,g.animationClass)});function a(){e("click")}return(i,h)=>(P(),V(J,{glossy:"",dense:"",stack:"",label:m.label,color:m.active?"primary":"secondary",class:E([m.buttonClass,m.active?m.animationClass:""]),onClick:a},{default:o(()=>[n(Ce,null,{default:o(()=>[N(u(m.tooltip),1)]),_:1}),l("img",{ref_key:"iconRef",ref:v,class:E(["event-icon",m.active?m.animationClass:""]),src:m.icon,alt:m.label},null,10,je)]),_:1},8,["label","color","class"]))}};var X=A(Ke,[["__scopeId","data-v-61fd6b16"]]);const Ye={setup(){const m="ag5idzcxq01s1yoocwth0llc",t=new Map,g=async(b,I={},B=5,O=1e3)=>{try{const C=await fetch(b,I);if(C.status===429)throw new Error("Rate limit exceeded");if(!C.ok)throw new Error(`HTTP error! Status: ${C.status}`);return C}catch(C){if(B>0)return console.warn(`Request failed: ${C.message}. Retrying in ${O}ms...`),await new Promise(W=>setTimeout(W,O)),g(b,I,B-1,O*2);throw C}},e=async(b,I={},B=5,O=1e3)=>{if(t.has(b))return console.log("Using cached data for",b),t.get(b);const W=await(await g(b,I,B,O)).text();return t.set(b,W),W},v=[{slug:"Team+Stolen+Gun",display:"Team Stolen Gun"},{slug:"Team+NOKOMIS",display:"Team NOKOMIS"},{slug:"Team+ren+vvs",display:"Team ren vvs"}],p=c(null),a=c(0),i=c(0),h=c(0),T=c(0),f=c(0),y=c(0),k=c(0),x=c(0),S=c(0),G=c(0),R=c(0),d=c(0),r=c(0);re(()=>{d.value=Number(h.value)+Number(T.value),r.value=Number(a.value)+Number(i.value)});const s=c(!0),_=c(3e4),D=b=>{if(!s.value){alert("Please wait 30 seconds before selecting a new team.");return}p.value=b,s.value=!1,setTimeout(()=>{s.value=!0},_.value)},w=["clue_scrolls_hard","clue_scrolls_elite","slayer","tombs_of_amascut","tombs_of_amascut_expert","hitpoints","thieving","agility","runecrafting","zalcano","smithing"],U=De.exports.throttle(async()=>{if(!!p.value)try{await Promise.all(w.map(async b=>{const I=`https://api.wiseoldman.net/v2/competitions/68296/csv?table=team&teamName=${p.value.slug}&metric=${b}`,B=await e(I,{headers:{Authorization:`Bearer ${m}`}}),C=ge.parse(B,{header:!0,skipEmptyLines:!0}).data.reduce((W,_e)=>{const ne=Number(_e.Gained);return W+(isNaN(ne)?0:ne)},0);b==="agility"&&(k.value=C),b==="slayer"&&(x.value=C),b==="clue_scrolls_hard"&&(a.value=C),b==="clue_scrolls_elite"&&(i.value=C),b==="tombs_of_amascut"&&(h.value=C),b==="tombs_of_amascut_expert"&&(T.value=C),b==="hitpoints"&&(f.value=C),b==="thieving"&&(y.value=C),b==="runecrafting"&&(S.value=C),b==="zalcano"&&(G.value=C),b==="smithing"&&(R.value=C)}))}catch(b){console.error("Error fetching data:",b)}},5e3);return re(()=>{p.value&&U()}),{delayTimer:_,teams:v,selectedTeam:p,updateSelectedTeam:D,agilityGained:k,clueScrollEliteGained:i,clueScrollHardGained:a,toaGained:h,toaExpertGained:T,hitpointsGained:f,thievingGained:y,runecraftingGained:S,zalcanoGained:G,smithingGained:R,slayerGained:x,toaTotal:d,cluesTotal:r,computePosition:(b,I)=>{const[B,,O]=I;let C=(b-B)/(O-B)*100;return Math.max(0,Math.min(100,C))},getThresholdClass:(b,I)=>{const[B,O,C]=I;return b<O?"progress-low":b<C?"progress-medium":"progress-high"},metricThresholds:{agility:[5e5,2e6,5e6],slayer:[1e6,5e6,1e7],runecrafting:[5e5,2e6,4e6],thieving:[25e5,5e6,1e7],hitpoints:[15e5,3e6,6e6],clues:[150,300,600],tombs:[150,500,1e3],zalcano:[250,500,1e3],smithing:[5e5,2e6,4e6]},formatNumber:b=>new Intl.NumberFormat().format(b)}}},Je={class:"q-gutter-sm row items-center"},Ze={class:"stats-container"},$e={class:"stats-table"},et={class:"stats-cell"},tt={class:"progress-cell"},at={class:"threshold-label threshold-low"},lt={class:"threshold-label threshold-medium"},st={class:"threshold-label threshold-high"},ot={class:"stats-cell"},nt={class:"progress-cell"},rt={class:"threshold-label threshold-low"},it={class:"threshold-label threshold-medium"},dt={class:"threshold-label threshold-high"},ct={class:"stats-cell"},mt={class:"progress-cell"},ut={class:"threshold-label threshold-low"},ht={class:"threshold-label threshold-medium"},gt={class:"threshold-label threshold-high"},ft={class:"stats-cell"},vt={class:"progress-cell"},bt={class:"threshold-label threshold-low"},pt={class:"threshold-label threshold-medium"},_t={class:"threshold-label threshold-high"},yt={class:"stats-cell"},wt={class:"progress-cell"},Ct={class:"threshold-label threshold-low"},Tt={class:"threshold-label threshold-medium"},kt={class:"threshold-label threshold-high"},xt={class:"stats-cell"},St={class:"progress-cell"},Dt={class:"threshold-label threshold-low"},Et={class:"threshold-label threshold-medium"},Nt={class:"threshold-label threshold-high"},Pt={class:"stats-cell"},Gt={class:"progress-cell"},Lt={class:"threshold-label threshold-low"},Mt={class:"threshold-label threshold-medium"},Ut={class:"threshold-label threshold-high"},Ft={class:"stats-cell"},Vt={class:"progress-cell"},It={class:"threshold-label threshold-low"},Bt={class:"threshold-label threshold-medium"},Ot={class:"threshold-label threshold-high"},Rt={class:"stats-cell"},zt={class:"progress-cell"},At={class:"threshold-label threshold-low"},Ht={class:"threshold-label threshold-medium"},Wt={class:"threshold-label threshold-high"};function Xt(m,t,g,e,v,p){return P(),V(j,{class:"page-container"},{default:o(()=>[l("div",Je,[n(te,{size:"xl",glossy:"",ripple:"",flat:"","text-color":"purple-7",outline:"",label:e.selectedTeam?e.selectedTeam.display:"Please select a Team",class:"col-auto","no-caps":""},{default:o(()=>[n(Z,null,{default:o(()=>[(P(!0),q(se,null,oe(e.teams,a=>(P(),V(L,{key:a.slug,clickable:"",onClick:i=>e.updateSelectedTeam(a)},{default:o(()=>[n(M,null,{default:o(()=>[N(u(a.display),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["label"])]),t[9]||(t[9]=l("p",{style:{"text-shadow":"1px 1px 1px black"}}," Please give the tables a few seconds to to load; it uses wiseoldman to fetch live data! ",-1)),l("div",Ze,[l("table",$e,[l("tr",null,[l("td",et,[l("div",tt,[l("div",at,u(e.formatNumber(e.metricThresholds.agility[0])),1),l("div",lt,u(e.formatNumber(e.metricThresholds.agility[1])),1),l("div",st,u(e.formatNumber(e.metricThresholds.agility[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.agilityGained,e.metricThresholds.agility)]),style:z({top:e.computePosition(e.agilityGained,e.metricThresholds.agility)+"%"})},u(e.formatNumber(e.agilityGained)),7)]),t[0]||(t[0]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/agility.png"})],-1))]),l("td",ot,[l("div",nt,[l("div",rt,u(e.formatNumber(e.metricThresholds.slayer[0])),1),l("div",it,u(e.formatNumber(e.metricThresholds.slayer[1])),1),l("div",dt,u(e.formatNumber(e.metricThresholds.slayer[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.slayerGained,e.metricThresholds.slayer)]),style:z({top:e.computePosition(e.slayerGained,e.metricThresholds.slayer)+"%"})},u(e.formatNumber(e.slayerGained)),7)]),t[1]||(t[1]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/slayer.png"})],-1))]),l("td",ct,[l("div",mt,[l("div",ut,u(e.formatNumber(e.metricThresholds.runecrafting[0])),1),l("div",ht,u(e.formatNumber(e.metricThresholds.runecrafting[1])),1),l("div",gt,u(e.formatNumber(e.metricThresholds.runecrafting[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.runecraftingGained,e.metricThresholds.runecrafting)]),style:z({top:e.computePosition(e.runecraftingGained,e.metricThresholds.runecrafting)+"%"})},u(e.formatNumber(e.runecraftingGained)),7)]),t[2]||(t[2]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/runecraft.png"})],-1))])]),l("tr",null,[l("td",ft,[l("div",vt,[l("div",bt,u(e.formatNumber(e.metricThresholds.thieving[0])),1),l("div",pt,u(e.formatNumber(e.metricThresholds.thieving[1])),1),l("div",_t,u(e.formatNumber(e.metricThresholds.thieving[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.thievingGained,e.metricThresholds.thieving)]),style:z({top:e.computePosition(e.thievingGained,e.metricThresholds.thieving)+"%"})},u(e.formatNumber(e.thievingGained)),7)]),t[3]||(t[3]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/thieving.png"})],-1))]),l("td",yt,[l("div",wt,[l("div",Ct,u(e.formatNumber(e.metricThresholds.tombs[0])),1),l("div",Tt,u(e.formatNumber(e.metricThresholds.tombs[1])),1),l("div",kt,u(e.formatNumber(e.metricThresholds.tombs[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.toaTotal,e.metricThresholds.tombs)]),style:z({top:e.computePosition(e.toaTotal,e.metricThresholds.tombs)+"%"})},u(e.formatNumber(e.toaTotal)),7)]),t[4]||(t[4]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/toa.png"}),l("img",{src:"/sprites/toaexpert.png"})],-1))]),l("td",xt,[l("div",St,[l("div",Dt,u(e.formatNumber(e.metricThresholds.zalcano[0])),1),l("div",Et,u(e.formatNumber(e.metricThresholds.zalcano[1])),1),l("div",Nt,u(e.formatNumber(e.metricThresholds.zalcano[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.zalcanoGained,e.metricThresholds.zalcano)]),style:z({top:e.computePosition(e.zalcanoGained,e.metricThresholds.zalcano)+"%"})},u(e.formatNumber(e.zalcanoGained)),7)]),t[5]||(t[5]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/zalcano.png"})],-1))])]),l("tr",null,[l("td",Pt,[l("div",Gt,[l("div",Lt,u(e.formatNumber(e.metricThresholds.hitpoints[0])),1),l("div",Mt,u(e.formatNumber(e.metricThresholds.hitpoints[1])),1),l("div",Ut,u(e.formatNumber(e.metricThresholds.hitpoints[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.hitpointsGained,e.metricThresholds.hitpoints)]),style:z({top:e.computePosition(e.hitpointsGained,e.metricThresholds.hitpoints)+"%"})},u(e.formatNumber(e.hitpointsGained)),7)]),t[6]||(t[6]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/hitpoints.png"})],-1))]),l("td",Ft,[l("div",Vt,[l("div",It,u(e.formatNumber(e.metricThresholds.clues[0])),1),l("div",Bt,u(e.formatNumber(e.metricThresholds.clues[1])),1),l("div",Ot,u(e.formatNumber(e.metricThresholds.clues[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.cluesTotal,e.metricThresholds.clues)]),style:z({top:e.computePosition(e.cluesTotal,e.metricThresholds.clues)+"%"})},u(e.formatNumber(e.cluesTotal)),7)]),t[7]||(t[7]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/cluehard.png"}),l("img",{src:"/sprites/clueelite.png"})],-1))]),l("td",Rt,[l("div",zt,[l("div",At,u(e.formatNumber(e.metricThresholds.smithing[0])),1),l("div",Ht,u(e.formatNumber(e.metricThresholds.smithing[1])),1),l("div",Wt,u(e.formatNumber(e.metricThresholds.smithing[2])),1),l("div",{class:E(["current-value",e.getThresholdClass(e.smithingGained,e.metricThresholds.smithing)]),style:z({top:e.computePosition(e.smithingGained,e.metricThresholds.smithing)+"%"})},u(e.formatNumber(e.smithingGained)),7)]),t[8]||(t[8]=l("div",{class:"metric-label"},[l("img",{src:"/sprites/smithing.png"})],-1))])])])])]),_:1})}var Qt=A(Ye,[["render",Xt],["__scopeId","data-v-6aaef330"]]);const qt={name:"UpdatedCompetitionTable",setup(){c([]);const m=c([]),t=c(""),g=c(null),e=c(!1),v=c(!1),p=c(75869),a=c("Loading..."),i={regular:"/icons/maxed.png",ironman:"/icons/ironman.png",ultimate:"/icons/uim.png",hardcore:"/icons/hcim.png",unknown:"/icons/unknown.png"},h={low:"progress-low",medium:"progress-medium",high:"progress-high"},T=d=>d<50?h.none:d<300?h.low:d<600?h.medium:h.high,f=d=>d<1e6?`${(d/1e3).toFixed(4)}K`:`${(d/1e6).toFixed(2)}M`,y=d=>`${(d/1e6).toFixed(4)}M`,k=c([{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"type",label:"Type",align:"left",field:"type",format:(d,r)=>`<img src="${r.typeImage}" alt="${r.type}" />`},{name:"exp",label:"Overall",align:"right",field:"rawXp",format:(d,r)=>r.exp,sortable:!0},{name:"gainedXP",label:"Gained",align:"right",field:"rawGainedXP",format:(d,r)=>r.rawGained,sortable:!0},{name:"totalStart",label:"Start",align:"right",field:"totalStart",sortable:!0},{name:"totalEnd",label:"End",align:"right",field:"totalEnd",sortable:!0}]),x=async()=>{v.value=!0;const d=new he({apiKey:{}.VUE_APP_WOM_API_KEY,userAgent:"dopesyc"});try{const r=await d.competitions.getCompetitionDetails(p.value);a.value=r.title,m.value=r.participations.map(s=>{const _=s.player.exp||0,D=s.progress.gained||0;return{id:s.player.id,username:s.player.displayName,type:s.player.type,typeImage:i[s.player.type]||i.unknown,exp:f(_),rawXp:_,lastChangedAt:pe(new Date(s.player.lastChangedAt),new Date,{addSuffix:!0}),gainedXP:D,rawGainedXP:D,progressGained:f(s.progress.gained),progressStart:f(s.progress.start),progressEnd:f(s.progress.end),levelsGained:f(s.levels.gained),levelsStart:f(s.levels.start),levelsEnd:f(s.levels.end),progressLevels:`Gained: ${f(s.progress.gained)}, Start: ${f(s.progress.start)}, End: ${f(s.progress.end)}
              <br />
              Levels: Gained: ${s.levels.gained},
              Start: ${s.levels.start},
              End: ${s.levels.end}`,totalGained:`EXP: ${y(s.progress.gained)}
              <br />
              LVLS: ${s.levels.gained}`,totalStart:`${s.progress.start}`,totalEnd:`${s.progress.end}
            `,progressGainedClass:T(D),progressStartClass:T(s.progress.start),progressGainedClass:T(s.progress.gained),progressEndClass:T(s.progress.end)}})}catch(r){console.error("Failed to fetch competition data:",r)}finally{v.value=!1}},S=be(()=>{if(!t.value.trim())return;const d=m.value.find(r=>r.username.toLowerCase().includes(t.value.toLowerCase()));if(d){const r=m.value.findIndex(s=>s.id===d.id);if(r!==-1){const[s]=m.value.splice(r,1);m.value.unshift(s),g.value=s.id,setTimeout(()=>g.value=null,2e3)}}else e.value=!0},300),G=Y(()=>t.value.trim()?m.value.filter(d=>d.username.toLowerCase().includes(t.value.toLowerCase())):m.value),R=d=>{p.value=d,x()};return le(x),{columns:k,filteredRows:G,searchQuery:t,highlightedId:g,debouncedSearch:S,playerNotFoundDialog:e,loading:v,updateCompetition:R,competitionTitle:a}}},jt={class:"q-gutter-sm row items-center"},Kt=["innerHTML"],Yt=["innerHTML"],Jt=["innerHTML"],Zt=["innerHTML"],$t=["src","alt"];function ea(m,t,g,e,v,p){return P(),V(j,null,{default:o(()=>[l("div",jt,[n(ce,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),debounce:"300",placeholder:"Search by username",outlined:"",class:"col"},null,8,["modelValue"]),n(te,{flat:"",outline:"",label:e.competitionTitle,class:"col-auto","no-caps":""},{default:o(()=>[n(Z,null,{default:o(()=>[n(L,{clickable:"",onClick:t[1]||(t[1]=a=>e.updateCompetition(75869))},{default:o(()=>[n(M,null,{default:o(()=>t[7]||(t[7]=[N("Zilyana")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[2]||(t[2]=a=>e.updateCompetition(68468))},{default:o(()=>[n(M,null,{default:o(()=>t[8]||(t[8]=[N("Duke")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[3]||(t[3]=a=>e.updateCompetition(50451))},{default:o(()=>[n(M,null,{default:o(()=>t[9]||(t[9]=[N("Zulrah")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[4]||(t[4]=a=>e.updateCompetition(46277))},{default:o(()=>[n(M,null,{default:o(()=>t[10]||(t[10]=[N("General Graardor")])),_:1})]),_:1}),n(L,{clickable:"",onClick:t[5]||(t[5]=a=>e.updateCompetition(40782))},{default:o(()=>[n(M,null,{default:o(()=>t[11]||(t[11]=[N("Scurrius")])),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),n(K,{rows:e.filteredRows,columns:e.columns,"row-key":"id",loading:e.loading,"rows-per-page-options":[15,30,60,e.filteredRows.length],class:"input-box"},{"body-cell-progressLevels":o(a=>[n(F,{class:E(a.row.progressClass)},{default:o(()=>[l("div",{innerHTML:a.row.progressLevels},null,8,Kt)]),_:2},1032,["class"])]),"body-cell-gainedXP":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.gainedXP},null,8,Yt)]),_:2},1032,["class"])]),"body-cell-totalStart":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalStart},null,8,Jt)]),_:2},1032,["class"])]),"body-cell-totalEnd":o(a=>[n(F,{class:E(a.row.progressGainedClass)},{default:o(()=>[l("div",{innerHTML:a.row.totalEnd},null,8,Zt)]),_:2},1032,["class"])]),"body-cell-type":o(a=>[n(F,null,{default:o(()=>[l("img",{src:a.row.typeImage,alt:a.row.type,width:"28",height:"28"},null,8,$t)]),_:2},1024)]),_:1},8,["rows","columns","loading","rows-per-page-options"]),n(me,{modelValue:e.playerNotFoundDialog,"onUpdate:modelValue":t[6]||(t[6]=a=>e.playerNotFoundDialog=a)},{default:o(()=>[n($,null,{default:o(()=>[n(ee,null,{default:o(()=>t[12]||(t[12]=[N(" Player not found. Please try a different query. ")])),_:1}),n(ae,{align:"right"},{default:o(()=>[fe(n(J,{flat:"",label:"Close"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ta=A(qt,[["render",ea]]);const aa={name:"BingoWrapper",components:{NewBingoTest:Qt,BingoTable2:qe}};function la(m,t,g,e,v,p){const a=ie("NewBingoTest"),i=ie("BingoTable2");return P(),q("div",null,[n(a),n(i)])}var sa=A(aa,[["render",la],["__scopeId","data-v-36b0257e"]]);const oa={};function na(m,t){return t[0]||(t[0]=Ne('<div><h3 style="text-align:center;text-shadow:1px 1px black;">Hall of Fame</h3></div><div><h6 style="text-shadow:1px 1px black;">Skill of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1. Cooking - white646 <br> 2. Runecraft - zhwiggy <br> 3. Smithing - vantri<br> 4. Mining - vantri<br> 5. Slayer - Trois<br> 6. Hunter - January 2024 - 45.1m pot - XP winner Vairaq Lvl winner jdigga8 <br> 7 Ranged - February 2024 - 6.5m pot - XP and level winner: Vairaq<br> 8 Fletching - March 2024 - 52M pot. XP winner HopefulMitch Lvl winner donutrat<br> 9 Prayer - May 2024 - 61M pot. XP and Lvl winner zercaz <br> 10. Crafting (70m pot) - vantri <br> 11. Fishing (50m pot) - vantri <br> 12. Agility (48m pot) - Renxt &amp; Pigi Chops <br> 13. Construction (100m pot)- Venged Dh &amp; DarkMagkMage <br> 14. Farming - 1st place all3survivor, 2nd Yurik36, 3rd Vantri110 </div><div><h6 style="text-shadow:1px 1px black;">Boss of the Week Champions</h6></div><div style="text-shadow:1px 1px black;"> 1 Callisto - OG Leksa <br> 2 Dagannoth Prime - Canceled<br> 3 Duke of Sucellus - Canceled<br> 4 Scurrius March 2024 - Pot 60m - : jdigga8 <br> 5 BANDOS JUNE 2 - Baby Leah <br> 6 Zulrah - 3rdAgeLegend <br> 7 Duke - ishinigam1 <br> 8 Zilyana - zercaz<br></div><div><h6 style="text-shadow:1px 1px black;">Bingo Champions</h6></div><div style="text-shadow:1px 1px black;"> April 2024 - Winner: Team No Life <br> November 2024 - Winner: Team Jad Bods <br> February 2025 - RNG vs RMF (Clan vs Clan) - ongoing </div><div><h6 style="text-shadow:1px 1px black;"> Clan Benefactors (Sugar Daddies/Mommies) </h6></div><div style="text-shadow:1px 1px black;"> Icecream Man - ~2B<br> Hopeful Mitch - ~1.5b <br> Stolen Gun - ~1b<br> Baby Leah - ~1b <br> Fortunate1 - ~550m <br> OG Echelon - ~150m <br> Tahenrick - ~50m <br> 1x47 - 50m <br> WalkinTaco22 - ~35m <br> Shitdick - ~50m<br> Ass Clincher - 25m<br> Mr Walton - 10m <br> Omni Whisper - Server Booster <br> Captain Shell - 20m <br><sub>(Currently building this list. If you do not see yourself or if the amount listed is incorrect please reach out and correct us so it can be accurately modified. This was a new idea and I&#39;m trying to track and recognize ALL donators. TIA)</sub></div>',9))}var ra=A(oa,[["render",na]]);const ia={class:"q-gutter-md row justify-center",style:{"flex-wrap":"nowrap"}},da={class:"q-mt-md"},ca={__name:"EventsPage",setup(m){const t=c([{name:"calendar",component:de}]),g={calendar:de,competitions:Re,botw:ta,bingo:sa,potm:Ge,hof:ra};function e(a){return t.value.some(i=>i.name===a)}function v(a){e(a)?p(a):t.value.push({name:a,component:g[a]})}function p(a){t.value=t.value.filter(i=>i.name!==a)}return(a,i)=>(P(),V(j,{class:"q-pa-md"},{default:o(()=>[l("div",ia,[n(X,{label:"Calendar",tooltip:"Calendar",icon:"/icons/calendarbook.png",animationClass:"animate__fadeInDown",buttonClass:"leagues-style",active:e("calendar"),onClick:i[0]||(i[0]=h=>v("calendar"))},null,8,["active"]),n(X,{label:"Skill of the Week",tooltip:"Skill of the Week",icon:"/icons/ARTSNEW.png",animationClass:"animate__zoomIn",buttonClass:"wild-style",active:e("competitions"),onClick:i[1]||(i[1]=h=>v("competitions"))},null,8,["active"]),n(X,{label:"Boss of the Week",tooltip:"Boss of the Week",icon:"/icons/pvm.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("botw"),onClick:i[2]||(i[2]=h=>v("botw"))},null,8,["active"]),n(X,{label:"Pet of the Month",tooltip:"Pet of the Month",icon:"/potm/rift.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("potm"),onClick:i[3]||(i[3]=h=>v("potm"))},null,8,["active"]),n(X,{label:"Bingo Table",tooltip:"Bingo",icon:"/icons/minigamesIcon.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("bingo"),onClick:i[4]||(i[4]=h=>v("bingo"))},null,8,["active"]),n(X,{label:"Hall of Fame",tooltip:"Hall of Fame",icon:"/icons/trophy.png",animationClass:"animate__jello",buttonClass:"bingo-style",active:e("hof"),onClick:i[5]||(i[5]=h=>v("hof"))},null,8,["active"])]),i[6]||(i[6]=l("div",null,[l("p",{style:{"text-align":"center","text-shadow":"1px 1px black"}},[l("sub",null,"Note: Our trackers use Wise Old Man; there may be errors due to hiscore update delays.")])],-1)),l("div",da,[(P(!0),q(se,null,oe(t.value,h=>(P(),V($,{key:h.name,class:"q-mb-md"},{default:o(()=>[n(ee,null,{default:o(()=>[(P(),V(Pe(h.component)))]),_:2},1024),n(ae,{align:"right"},{default:o(()=>[n(J,{flat:"",glossy:"",label:"Close",color:"negative",onClick:T=>p(h.name)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var _a=A(ca,[["__scopeId","data-v-29181be4"]]);export{qe as B,Re as C,_a as E,Qt as N};
